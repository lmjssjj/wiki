# 作用域

## 块作用域

```
	块是用一对花括号括起来的代码区域。例如，整个函数体是一个块，函数中的任意复合语句也是一个块。定义在块中的变量具有块作用域(block scope)，块作用域变量的可见范围是从定义处到包含该定义的块的末尾。另外，虽然函数的形式参数声明在函数的左花括号之前，但是它们也具有块作用域，属于函数体这个块。
```

## 函数作用域

```
	函数作用域( function scope)仅用于goto语句的标签。这意味着即使一个标签首次出现在函数的内层块中，它的作用域也延伸至整个函数。如果在两个块中使用相同的标签会很混乱，标签的函数作用域防止了这样的事情发生。
```

## 函数原型作用域

```
	函数原型作用域( function prototype scope）用于函数原型中的形参名（变量名)，如下所示:
	int mighty(int mouse,double large) ;

	函数原型作用域的范围是从形参定义处到原型声明结束。这意味着，编译器在处理函数原型中的形参时只关心它的类型，而形参名(如果有的话）通常无关紧要。而且，即使有形参名，也不必与函数定义中的形参名相匹配。只有在变长数组中，形参名才有用:
void use_a_VLA(int n, int m, ar[n] [m] );方括号中必须使用在函数原型中己声明的名称。

	方括号中必须使用在函数原型中已声明的名称。


```

## 文件作用域

```
	变量的定义在函数的外面，具有文件作用域(file scope)。具有文件作用域的变量，从它的定义处到该定义所在文件的末尾均可见。
```



# 链接

```
如何知道文件作用域变量是内部链接还是外部链接?可以查看外部定义中是否使用了存储类别说明符static:
```

## 外部链接

```
int giants = 5; //文件作用域，外部链接
```

## 内部链接

```
static int dodgers = 3;//文件作用域，内部链接
```

## 无链接



# 存储期

![](image\5种存储类别.png)

![](image\C存储类别.png)

## 静态存储期

```
静态存储期，它在程序的执行期间一直存在。文件作用域变量具有静态存储期 
无论是内部链接还是外部链接，所有的文件作用域变量都具有静态存储期。
```

## 线程存储期

```
线程存储期的对象，从被声明时到线程结束一直存在。以关键字Thread local声明一个对象时，每个线程都获得该变量的私有备份。
```

## 自动存储期

```
块作用域的变量通常都具有自动存储期。当程序进入定义这些变量的块时，为这些变量分配内存;当退出这个块时，释放刚才为变量分配的内存。这种做法相当于把自动变量占用的内存视为一个可重复使用的工作区或暂存区。例如，一个函数调用结束后，其变量占用的内存可用于储存下一个被调用函数的变量。
变长数组稍有不同，它们的存储期从声明处到块的末尾，而不是从块的开始处到块的末尾。
```

## 动态分配存储期

```

```

![](image\存储类别小结.png)