## 同时多应用响应选择

```
用户选择打开的应用对话框
frameworks\base\core\java\com\android\internal\app\ResolverActivity.java
com.android.internal.app.ResolverActivity
```

### 调用顺序

```
frameworks/base/core/java/android/app/Instrumentation.java
android.app.Instrumentation#execStartActivity()

frameworks/base/services/core/java/com/android/server/wm/ActivityTaskManagerService.java
com.android.server.wm.ActivityTaskManagerService#startActivity

frameworks/base/services/core/java/com/android/server/wm/ActivityTaskManagerService.java
com.android.server.wm.ActivityTaskManagerService#startActivityAsUser()

frameworks/base/services/core/java/com/android/server/wm/ActivityStarter.java
com.android.server.wm.ActivityStarter#execute

frameworks/base/services/core/java/com/android/server/wm/ActivityStarter.java
com.android.server.wm.ActivityStarter#startActivity

frameworks/base/services/core/java/com/android/server/wm/ActivityStackSupervisor.java
com.android.server.wm.ActivityStackSupervisor#resolveIntent

frameworks/base/services/core/java/com/android/server/pm/PackageManagerService.java
com.android.server.pm.PackageManagerService.PackageManagerInternalImpl#resolveIntent

frameworks/base/services/core/java/com/android/server/pm/PackageManagerService.java
com.android.server.pm.PackageManagerService#resolveIntentInternal

frameworks/base/services/core/java/com/android/server/pm/PackageManagerService.java
com.android.server.pm.PackageManagerService#queryIntentActivitiesInternal()

frameworks/base/services/core/java/com/android/server/pm/PackageManagerService.java
com.android.server.pm.PackageManagerService#chooseBestActivity
```

## 对话框选择了始终

```
//添加首选活动
frameworks/base/services/core/java/com/android/server/pm/PackageManagerService.java
com.android.server.pm.PackageManagerService#addPreferredActivity
```

