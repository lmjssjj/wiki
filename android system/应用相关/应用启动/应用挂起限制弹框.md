## 挂起应用

```
//限制 挂起应用 弹框
com.android.internal.app.SuspendedAppActivity
```

```java
//在启动应用时会调用ActivityStartInterceptor>interceptSuspendedPackageIfNeeded
//来中断启动应用
com.android.server.wm.ActivityStarter#startActivity()//
//中断挂起应用
com.android.server.wm.ActivityStartInterceptor#interceptSuspendedPackageIfNeeded

ActivityStarter->startActivity(){
    mInterceptor.setStates(userId, realCallingPid, realCallingUid, startFlags, callingPackage);
            if (mInterceptor.intercept(intent, rInfo, aInfo, resolvedType, inTask, callingPid,
                    callingUid, checkedOptions)) {
                // activity start was intercepted, e.g. because the target user is currently in quiet
                // mode (turn off work) or the target application is suspended
                intent = mInterceptor.mIntent;
                rInfo = mInterceptor.mRInfo;
                aInfo = mInterceptor.mAInfo;
                resolvedType = mInterceptor.mResolvedType;
                inTask = mInterceptor.mInTask;
                callingPid = mInterceptor.mCallingPid;
                callingUid = mInterceptor.mCallingUid;
                checkedOptions = mInterceptor.mActivityOptions;
            }
}
```

