# 默认时区

```
//定义默认时区
device/mediateksample/k61v1_32_bsp_hdp/ProjectConfig.mk
DEFAULT_TIME_ZONE = America/New_York

//添加默认时区系统属性
device/mediatek/vendor/common/device.mk
PRODUCT_PROPERTY_OVERRIDES += ro.vendor.default.timezone=$(DEFAULT_TIME_ZONE)

//设置persist.sys.timezone系统属性
com.android.server.SystemServer#run{
	String defaultTimeZone = SystemProperties.get("ro.vendor.default.timezone");
    if (defaultTimeZone == null || defaultTimeZone.isEmpty()) {
    	defaultTimeZone = "GMT";
    }
    String timezoneProperty = SystemProperties.get("persist.sys.timezone");
    if (timezoneProperty == null || timezoneProperty.isEmpty()) {
        Slog.w(TAG, "Timezone not set; setting to GMT.");    
        //SystemProperties.set("persist.sys.timezone", "GMT");
        SystemProperties.set("persist.sys.timezone", defaultTimeZone);  
    }
}
```

# 默认时间

```c
//vendor/mediatek/proprietary/bootable/bootloader/preloader/custom/k61v1_32_bsp_hdp/inc/cust_rtc.h
#ifndef __CUST_RTC_H__
#define __CUST_RTC_H__

/*
 * Default values for RTC initialization
 * Year (YEA)        : 1970 ~ 2037
 * Month (MTH)       : 1 ~ 12
 * Day of Month (DOM): 1 ~ 31
 */
#define RTC_DEFAULT_YEA		2019
#define RTC_DEFAULT_MTH		1
#define RTC_DEFAULT_DOM		3
#define RTC_2SEC_REBOOT_ENABLE  1
#define RTC_2SEC_MODE		2
#endif /* __CUST_RTC_H__ */
```



```java
//frameworks/base/services/java/com/android/server/SystemServer.java
// The earliest supported time.  We pick one day into 1970, to
// give any timezone code room without going into negative time.
private static final long EARLIEST_SUPPORTED_TIME = 86400 * 1000;

//设置默认时间
com.android.server.SystemServer#run{
    if (System.currentTimeMillis() < EARLIEST_SUPPORTED_TIME) {
        Slog.w(TAG, "System clock is before 1970; setting to 1970.");
        SystemClock.setCurrentTimeMillis(EARLIEST_SUPPORTED_TIME);
    }
}
```

# 声音大小

```
frameworks/base/data/sounds/AllAudio.mk
frameworks/base/data/sounds/AudioPackageGo.mk
PRODUCT_PROPERTY_OVERRIDES := \
     ro.config.alarm_alert=Alarm.ogg \
     ro.config.ringtone=ArgoNavis.ogg \
     ro.config.ringtone_sim2=ArgoNavis.ogg \
     ro.config.alarm_vol_default=11 \
     ro.config.media_vol_default=11 \
     ro.config.system_vol_default=11 \
     ro.config.vc_call_vol_default=5 \
     ro.config.ring_vol_default=11
\ No newline at end of file
```

# 获取电量

```c
//kernel-4.9/drivers/misc/mediatek/power/mt6765/mtk_battery_intf.c
signed int battery_get_uisoc(void)
{
	int boot_mode = get_boot_mode();

	if ((boot_mode == META_BOOT) ||
		(boot_mode == ADVMETA_BOOT) ||
		(boot_mode == FACTORY_BOOT) ||
		(boot_mode == ATE_FACTORY_BOOT))
		return 75;

	return 50;
}
```

