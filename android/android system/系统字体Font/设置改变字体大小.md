## 设置保存字体大小

```java
//保存字体大小
Settings.System.putFloat(resolver, Settings.System.FONT_SCALE, mValues[mCurrentIndex]);
```

## 监听字体大小变化

```
com.android.server.SystemServer#main->
com.android.server.SystemServer#run->
com.android.server.SystemServer#startOtherServices->
com.android.server.am.ActivityManagerService#installSystemProviders->
com.android.server.wm.ActivityTaskManagerService#installSystemProviders
//监听字体变化
mFontScaleSettingObserver = new FontScaleSettingObserver();
//更新电前用户字体变化
//获取改变化的字体大小更新到Configuration中
updateFontScaleIfNeeded()
//更新config
updatePersistentConfiguration()
//更新config
//执行其中一项或两项操作:(1)更改当前配置，(2)确保给定的活动使用(现在)当前配置运行。 如果activity一直在运
//行，则返回true;如果<var>starting</var>被销毁以匹配新的配置，则返回false。  
updateConfigurationLocked()
//
performDisplayOverrideConfigUpdate()

```



